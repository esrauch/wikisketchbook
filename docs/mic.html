<!DOCTYPE html>
<html>

<body>
    <select id="input">

    </select>
    <script>
        const pick = document.getElementById('input')
        
        function m() {
            // navigator.mediaDevices.getUserMedia({
            //     audio: true,
            //     video: false
            // }).then((stream) => {
            //     alert(stream)
            // }).catch((err) => {
            //     alert(err);
            // })
            navigator.mediaDevices.enumerateDevices()
                .then((devices) => {
                    devices
                        .filter((device) =>
                            device.kind == 'audioinput')
                        .forEach((device) => {
                            const name = `${device.kind}: ${device.label} id = ${device.deviceId}`
                            alert(name);
                            const opt = document.createElement('option')
                            opt.text = device.deviceId;
                            pick.add(opt)
                        });
                })
                .catch((err) => {
                    console.error(`${err.name}: ${err.message}`);
                });
        }

        pick.onselect = (ev) => {
           const id = ev.target.value;
           alert(id);
        };
    </script>
    <button onclick="m()">click</button>
</body>

</html>