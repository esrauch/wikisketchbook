<!DOCTYPE html>
<html>

<body>
    <select id="input">

    </select>
    <script>
        function m() {
            // navigator.mediaDevices.getUserMedia({
            //     audio: true,
            //     video: false
            // }).then((stream) => {
            //     alert(stream)
            // }).catch((err) => {
            //     alert(err);
            // })
            const pick = document.getElementById('input')
            navigator.mediaDevices.enumerateDevices()
                .then((devices) => {
                    devices
                        .filter((device) =>
                            device.kind == 'audioinput')
                        .forEach((device) => {
                            const name = `${device.kind}: ${device.label} id = ${device.deviceId}`
                            alert(name);
                            const opt = document.createElement('option')
                            opt.text = name;
                            pick.add(opt)
                            opt.onclick = () => {
                                alert(arguments);
                            }
                        });
                })
                .catch((err) => {
                    console.error(`${err.name}: ${err.message}`);
                });
        }
    </script>
    <button onclick="m()">click</button>
</body>

</html>